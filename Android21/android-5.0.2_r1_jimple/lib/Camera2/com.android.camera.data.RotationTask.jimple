public class com.android.camera.data.RotationTask extends android.os.AsyncTask
{
    private static final com.android.camera.debug.Log$Tag TAG;
    private final android.content.Context mContext;
    private final com.android.camera.data.LocalDataAdapter mAdapter;
    private final int mCurrentDataId;
    private final boolean mClockwise;
    private android.app.ProgressDialog mProgress;

    public void <init>(android.content.Context, com.android.camera.data.LocalDataAdapter, int, boolean)
    {
        com.android.camera.data.RotationTask r0;
        android.content.Context r1;
        com.android.camera.data.LocalDataAdapter r2;
        int i0;
        boolean z0;

        r0 := @this: com.android.camera.data.RotationTask;

        r1 := @parameter0: android.content.Context;

        r2 := @parameter1: com.android.camera.data.LocalDataAdapter;

        i0 := @parameter2: int;

        z0 := @parameter3: boolean;

        specialinvoke r0.<android.os.AsyncTask: void <init>()>();

        r0.<com.android.camera.data.RotationTask: android.content.Context mContext> = r1;

        r0.<com.android.camera.data.RotationTask: com.android.camera.data.LocalDataAdapter mAdapter> = r2;

        r0.<com.android.camera.data.RotationTask: int mCurrentDataId> = i0;

        r0.<com.android.camera.data.RotationTask: boolean mClockwise> = z0;

        return;
    }

    protected void onPreExecute()
    {
        com.android.camera.data.RotationTask r0;
        int i0, $i1;
        android.app.ProgressDialog $r1, $r4, $r7, $r9, $r10;
        android.content.Context $r2, $r3, $r6;
        boolean $z0;
        java.lang.String $r5, $r8;

        r0 := @this: com.android.camera.data.RotationTask;

        $r1 = new android.app.ProgressDialog;

        $r2 = r0.<com.android.camera.data.RotationTask: android.content.Context mContext>;

        specialinvoke $r1.<android.app.ProgressDialog: void <init>(android.content.Context)>($r2);

        r0.<com.android.camera.data.RotationTask: android.app.ProgressDialog mProgress> = $r1;

        $z0 = r0.<com.android.camera.data.RotationTask: boolean mClockwise>;

        if $z0 == 0 goto label1;

        $i1 = 2131230736;

        goto label2;

     label1:
        $i1 = 2131230735;

     label2:
        i0 = $i1;

        $r4 = r0.<com.android.camera.data.RotationTask: android.app.ProgressDialog mProgress>;

        $r3 = r0.<com.android.camera.data.RotationTask: android.content.Context mContext>;

        $r5 = virtualinvoke $r3.<android.content.Context: java.lang.String getString(int)>(i0);

        virtualinvoke $r4.<android.app.ProgressDialog: void setTitle(java.lang.CharSequence)>($r5);

        $r7 = r0.<com.android.camera.data.RotationTask: android.app.ProgressDialog mProgress>;

        $r6 = r0.<com.android.camera.data.RotationTask: android.content.Context mContext>;

        $r8 = virtualinvoke $r6.<android.content.Context: java.lang.String getString(int)>(2131230768);

        virtualinvoke $r7.<android.app.ProgressDialog: void setMessage(java.lang.CharSequence)>($r8);

        $r9 = r0.<com.android.camera.data.RotationTask: android.app.ProgressDialog mProgress>;

        virtualinvoke $r9.<android.app.ProgressDialog: void setCancelable(boolean)>(0);

        $r10 = r0.<com.android.camera.data.RotationTask: android.app.ProgressDialog mProgress>;

        virtualinvoke $r10.<android.app.ProgressDialog: void show()>();

        return;
    }

    protected transient com.android.camera.data.LocalData doInBackground(com.android.camera.data.LocalData[])
    {
        com.android.camera.data.RotationTask r0;
        com.android.camera.data.LocalData[] r1;
        com.android.camera.data.LocalData $r2, $r3;

        r0 := @this: com.android.camera.data.RotationTask;

        r1 := @parameter0: com.android.camera.data.LocalData[];

        $r2 = r1[0];

        $r3 = specialinvoke r0.<com.android.camera.data.RotationTask: com.android.camera.data.LocalData rotateInJpegExif(com.android.camera.data.LocalData)>($r2);

        return $r3;
    }

    private com.android.camera.data.LocalData rotateInJpegExif(com.android.camera.data.LocalData)
    {
        com.android.camera.data.RotationTask r0;
        com.android.camera.data.LocalData r1;
        com.android.camera.data.LocalMediaData$PhotoData r2, $r13, r42;
        int i0, i1, i2, $i4, $i9, $i11, $i13, $i14, $i15;
        java.lang.String r3, $r7, $r14, $r15, $r16, $r23, $r30, $r35;
        android.content.ContentValues r4, $r8;
        boolean z0, $z1, $z2, $z3;
        com.android.camera.exif.ExifInterface r5, $r18;
        com.android.camera.exif.ExifTag r6;
        long l3, $l6, $l7, $l8, $l10;
        double d0, d1;
        android.content.Context $r9;
        java.lang.Integer $r10;
        android.net.Uri $r11;
        android.content.ContentResolver $r12;
        short $s12;
        java.lang.Short $r17;
        com.android.camera.debug.Log$Tag $r19, $r29, $r33, $r38;
        java.lang.StringBuilder $r20, $r21, $r24, $r27, $r31, $r32, $r34, $r37, $r39;
        java.lang.Long $r25;
        java.io.File $r26;
        java.io.FileNotFoundException $r28;
        java.io.IOException $r36;
        double[] r43;

        r0 := @this: com.android.camera.data.RotationTask;

        r1 := @parameter0: com.android.camera.data.LocalData;

        $z1 = r1 instanceof com.android.camera.data.LocalMediaData$PhotoData;

        if $z1 != 0 goto label01;

        $r29 = <com.android.camera.data.RotationTask: com.android.camera.debug.Log$Tag TAG>;

        staticinvoke <com.android.camera.debug.Log: void w(com.android.camera.debug.Log$Tag,java.lang.String)>($r29, "Rotation can only happen on PhotoData.");

        return null;

     label01:
        r2 = (com.android.camera.data.LocalMediaData$PhotoData) r1;

        i0 = virtualinvoke r2.<com.android.camera.data.LocalMediaData$PhotoData: int getRotation()>();

        $z2 = r0.<com.android.camera.data.RotationTask: boolean mClockwise>;

        if $z2 == 0 goto label02;

        $i15 = i0 + 90;

        i1 = $i15 % 360;

        goto label03;

     label02:
        $i4 = i0 + 270;

        i1 = $i4 % 360;

     label03:
        r3 = virtualinvoke r2.<com.android.camera.data.LocalMediaData$PhotoData: java.lang.String getPath()>();

        $r8 = new android.content.ContentValues;

        specialinvoke $r8.<android.content.ContentValues: void <init>()>();

        r4 = $r8;

        z0 = 0;

        i2 = 0;

        $r7 = virtualinvoke r2.<com.android.camera.data.LocalMediaData$PhotoData: java.lang.String getMimeType()>();

        $z3 = virtualinvoke $r7.<java.lang.String: boolean equalsIgnoreCase(java.lang.String)>("image/jpeg");

        if $z3 == 0 goto label09;

        $r18 = new com.android.camera.exif.ExifInterface;

        specialinvoke $r18.<com.android.camera.exif.ExifInterface: void <init>()>();

        r5 = $r18;

        $i13 = <com.android.camera.exif.ExifInterface: int TAG_ORIENTATION>;

        $s12 = staticinvoke <com.android.camera.exif.ExifInterface: short getOrientationValueForRotation(int)>(i1);

        $r17 = staticinvoke <java.lang.Short: java.lang.Short valueOf(short)>($s12);

        r6 = virtualinvoke r5.<com.android.camera.exif.ExifInterface: com.android.camera.exif.ExifTag buildTag(int,java.lang.Object)>($i13, $r17);

        if r6 == null goto label08;

        virtualinvoke r5.<com.android.camera.exif.ExifInterface: com.android.camera.exif.ExifTag setTag(com.android.camera.exif.ExifTag)>(r6);

     label04:
        virtualinvoke r5.<com.android.camera.exif.ExifInterface: void forceRewriteExif(java.lang.String)>(r3);

        $r26 = new java.io.File;

        specialinvoke $r26.<java.io.File: void <init>(java.lang.String)>(r3);

        l3 = virtualinvoke $r26.<java.io.File: long length()>();

        $r25 = staticinvoke <java.lang.Long: java.lang.Long valueOf(long)>(l3);

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.Long)>("_size", $r25);

        i2 = i1;

        z0 = 1;

     label05:
        goto label09;

     label06:
        $r28 := @caughtexception;

        $r33 = <com.android.camera.data.RotationTask: com.android.camera.debug.Log$Tag TAG>;

        $r27 = new java.lang.StringBuilder;

        specialinvoke $r27.<java.lang.StringBuilder: void <init>()>();

        $r32 = virtualinvoke $r27.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Cannot find file to set exif: ");

        $r31 = virtualinvoke $r32.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r3);

        $r30 = virtualinvoke $r31.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <com.android.camera.debug.Log: void w(com.android.camera.debug.Log$Tag,java.lang.String)>($r33, $r30);

        goto label09;

     label07:
        $r36 := @caughtexception;

        $r38 = <com.android.camera.data.RotationTask: com.android.camera.debug.Log$Tag TAG>;

        $r37 = new java.lang.StringBuilder;

        specialinvoke $r37.<java.lang.StringBuilder: void <init>()>();

        $r39 = virtualinvoke $r37.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Cannot set exif data: ");

        $r34 = virtualinvoke $r39.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r3);

        $r35 = virtualinvoke $r34.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <com.android.camera.debug.Log: void w(com.android.camera.debug.Log$Tag,java.lang.String)>($r38, $r35);

        goto label09;

     label08:
        $r19 = <com.android.camera.data.RotationTask: com.android.camera.debug.Log$Tag TAG>;

        $r21 = new java.lang.StringBuilder;

        specialinvoke $r21.<java.lang.StringBuilder: void <init>()>();

        $r20 = virtualinvoke $r21.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Cannot build tag: ");

        $i14 = <com.android.camera.exif.ExifInterface: int TAG_ORIENTATION>;

        $r24 = virtualinvoke $r20.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i14);

        $r23 = virtualinvoke $r24.<java.lang.StringBuilder: java.lang.String toString()>();

        staticinvoke <com.android.camera.debug.Log: void w(com.android.camera.debug.Log$Tag,java.lang.String)>($r19, $r23);

     label09:
        r42 = null;

        if z0 == 0 goto label11;

        $r10 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>(i1);

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.Integer)>("orientation", $r10);

        $r9 = r0.<com.android.camera.data.RotationTask: android.content.Context mContext>;

        $r12 = virtualinvoke $r9.<android.content.Context: android.content.ContentResolver getContentResolver()>();

        $r11 = virtualinvoke r2.<com.android.camera.data.LocalMediaData$PhotoData: android.net.Uri getUri()>();

        virtualinvoke $r12.<android.content.ContentResolver: int update(android.net.Uri,android.content.ContentValues,java.lang.String,java.lang.String[])>($r11, r4, null, null);

        r43 = interfaceinvoke r1.<com.android.camera.data.LocalData: double[] getLatLong()>();

        d1 = 0.0;

        d0 = 0.0;

        if r43 == null goto label10;

        d1 = r43[0];

        d0 = r43[1];

     label10:
        $r13 = new com.android.camera.data.LocalMediaData$PhotoData;

        $l6 = interfaceinvoke r1.<com.android.camera.data.LocalData: long getContentId()>();

        $r14 = interfaceinvoke r1.<com.android.camera.data.LocalData: java.lang.String getTitle()>();

        $r15 = interfaceinvoke r1.<com.android.camera.data.LocalData: java.lang.String getMimeType()>();

        $l7 = interfaceinvoke r1.<com.android.camera.data.LocalData: long getDateTaken()>();

        $l8 = interfaceinvoke r1.<com.android.camera.data.LocalData: long getDateModified()>();

        $r16 = interfaceinvoke r1.<com.android.camera.data.LocalData: java.lang.String getPath()>();

        $i11 = virtualinvoke r2.<com.android.camera.data.LocalMediaData$PhotoData: int getWidth()>();

        $i9 = virtualinvoke r2.<com.android.camera.data.LocalMediaData$PhotoData: int getHeight()>();

        $l10 = interfaceinvoke r1.<com.android.camera.data.LocalData: long getSizeInBytes()>();

        specialinvoke $r13.<com.android.camera.data.LocalMediaData$PhotoData: void <init>(long,java.lang.String,java.lang.String,long,long,java.lang.String,int,int,int,long,double,double)>($l6, $r14, $r15, $l7, $l8, $r16, i2, $i11, $i9, $l10, d1, d0);

        r42 = $r13;

     label11:
        return r42;

        catch java.io.FileNotFoundException from label04 to label05 with label06;
        catch java.io.IOException from label04 to label05 with label07;
    }

    protected void onPostExecute(com.android.camera.data.LocalData)
    {
        com.android.camera.data.RotationTask r0;
        com.android.camera.data.LocalData r1;
        android.app.ProgressDialog $r2;
        int $i0;
        com.android.camera.data.LocalDataAdapter $r3;

        r0 := @this: com.android.camera.data.RotationTask;

        r1 := @parameter0: com.android.camera.data.LocalData;

        $r2 = r0.<com.android.camera.data.RotationTask: android.app.ProgressDialog mProgress>;

        virtualinvoke $r2.<android.app.ProgressDialog: void dismiss()>();

        if r1 == null goto label1;

        $r3 = r0.<com.android.camera.data.RotationTask: com.android.camera.data.LocalDataAdapter mAdapter>;

        $i0 = r0.<com.android.camera.data.RotationTask: int mCurrentDataId>;

        interfaceinvoke $r3.<com.android.camera.data.LocalDataAdapter: void updateData(int,com.android.camera.data.LocalData)>($i0, r1);

     label1:
        return;
    }

    protected volatile void onPostExecute(java.lang.Object)
    {
        com.android.camera.data.RotationTask r0;
        java.lang.Object r1;
        com.android.camera.data.LocalData $r2;

        r0 := @this: com.android.camera.data.RotationTask;

        r1 := @parameter0: java.lang.Object;

        $r2 = (com.android.camera.data.LocalData) r1;

        virtualinvoke r0.<com.android.camera.data.RotationTask: void onPostExecute(com.android.camera.data.LocalData)>($r2);

        return;
    }

    protected volatile java.lang.Object doInBackground(java.lang.Object[])
    {
        com.android.camera.data.RotationTask r0;
        java.lang.Object[] r1;
        com.android.camera.data.LocalData[] $r2;
        com.android.camera.data.LocalData $r3;

        r0 := @this: com.android.camera.data.RotationTask;

        r1 := @parameter0: java.lang.Object[];

        $r2 = (com.android.camera.data.LocalData[]) r1;

        $r3 = virtualinvoke r0.<com.android.camera.data.RotationTask: com.android.camera.data.LocalData doInBackground(com.android.camera.data.LocalData[])>($r2);

        return $r3;
    }

    static void <clinit>()
    {
        com.android.camera.debug.Log$Tag $r0;

        $r0 = new com.android.camera.debug.Log$Tag;

        specialinvoke $r0.<com.android.camera.debug.Log$Tag: void <init>(java.lang.String)>("RotationTask");

        <com.android.camera.data.RotationTask: com.android.camera.debug.Log$Tag TAG> = $r0;

        return;
    }
}
