public class com.android.ex.camera2.portability.CameraAgentFactory extends java.lang.Object
{
    private static final com.android.ex.camera2.portability.debug.Log$Tag TAG;
    private static final int FIRST_SDK_WITH_API_2;
    private static final java.lang.String API_LEVEL_OVERRIDE_KEY;
    private static final java.lang.String API_LEVEL_OVERRIDE_DEFAULT;
    private static final java.lang.String API_LEVEL_OVERRIDE_API1;
    private static final java.lang.String API_LEVEL_OVERRIDE_API2;
    private static final java.lang.String API_LEVEL_OVERRIDE_VALUE;
    private static com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent;
    private static com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent;
    private static int sAndroidCameraAgentClientCount;
    private static int sAndroidCamera2AgentClientCount;

    public void <init>()
    {
        com.android.ex.camera2.portability.CameraAgentFactory r0;

        r0 := @this: com.android.ex.camera2.portability.CameraAgentFactory;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        return;
    }

    private static com.android.ex.camera2.portability.CameraAgentFactory$CameraApi highestSupportedApi()
    {
        int $i0;
        com.android.ex.camera2.portability.CameraAgentFactory$CameraApi $r0, $r2;
        java.lang.String $r1;
        boolean $z0;

        $i0 = <android.os.Build$VERSION: int SDK_INT>;

        if $i0 >= 21 goto label1;

        $r1 = <android.os.Build$VERSION: java.lang.String CODENAME>;

        $z0 = virtualinvoke $r1.<java.lang.String: boolean equals(java.lang.Object)>("L");

        if $z0 == 0 goto label2;

     label1:
        $r0 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_2>;

        return $r0;

     label2:
        $r2 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_1>;

        return $r2;
    }

    private static com.android.ex.camera2.portability.CameraAgentFactory$CameraApi validateApiChoice(com.android.ex.camera2.portability.CameraAgentFactory$CameraApi)
    {
        com.android.ex.camera2.portability.CameraAgentFactory$CameraApi r0, $r3, $r6, $r8;
        java.lang.String $r1, $r2;
        boolean $z0, $z1;
        com.android.ex.camera2.portability.debug.Log$Tag $r4, $r5, $r7;

        r0 := @parameter0: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi;

        $r1 = <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_VALUE>;

        $z0 = virtualinvoke $r1.<java.lang.String: boolean equals(java.lang.Object)>("1");

        if $z0 == 0 goto label1;

        $r7 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.debug.Log$Tag TAG>;

        staticinvoke <com.android.ex.camera2.portability.debug.Log: void d(com.android.ex.camera2.portability.debug.Log$Tag,java.lang.String)>($r7, "API level overridden by system property: forced to 1");

        $r8 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_1>;

        return $r8;

     label1:
        $r2 = <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_VALUE>;

        $z1 = virtualinvoke $r2.<java.lang.String: boolean equals(java.lang.Object)>("2");

        if $z1 == 0 goto label2;

        $r5 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.debug.Log$Tag TAG>;

        staticinvoke <com.android.ex.camera2.portability.debug.Log: void d(com.android.ex.camera2.portability.debug.Log$Tag,java.lang.String)>($r5, "API level overridden by system property: forced to 2");

        $r6 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_2>;

        return $r6;

     label2:
        if r0 != null goto label3;

        $r4 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.debug.Log$Tag TAG>;

        staticinvoke <com.android.ex.camera2.portability.debug.Log: void w(com.android.ex.camera2.portability.debug.Log$Tag,java.lang.String)>($r4, "null API level request, so assuming AUTO");

        r0 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi AUTO>;

     label3:
        $r3 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi AUTO>;

        if r0 != $r3 goto label4;

        r0 = staticinvoke <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi highestSupportedApi()>();

     label4:
        return r0;
    }

    public static synchronized com.android.ex.camera2.portability.CameraAgent getAndroidCameraAgent(android.content.Context, com.android.ex.camera2.portability.CameraAgentFactory$CameraApi)
    {
        android.content.Context r0;
        com.android.ex.camera2.portability.CameraAgentFactory$CameraApi r1, $r2, $r3, $r4, r12;
        com.android.ex.camera2.portability.CameraAgent $r5, $r6, $r9, $r10;
        int $i0, $i1, $i2, $i3;
        com.android.ex.camera2.portability.AndroidCamera2AgentImpl $r7;
        java.lang.UnsupportedOperationException $r8;
        com.android.ex.camera2.portability.AndroidCameraAgentImpl $r11;

        r0 := @parameter0: android.content.Context;

        r1 := @parameter1: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi;

        r12 = staticinvoke <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi validateApiChoice(com.android.ex.camera2.portability.CameraAgentFactory$CameraApi)>(r1);

        $r2 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_1>;

        if r12 != $r2 goto label3;

        $r9 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent>;

        if $r9 != null goto label1;

        $r11 = new com.android.ex.camera2.portability.AndroidCameraAgentImpl;

        specialinvoke $r11.<com.android.ex.camera2.portability.AndroidCameraAgentImpl: void <init>()>();

        <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent> = $r11;

        <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCameraAgentClientCount> = 1;

        goto label2;

     label1:
        $i2 = <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCameraAgentClientCount>;

        $i3 = $i2 + 1;

        <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCameraAgentClientCount> = $i3;

     label2:
        $r10 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent>;

        return $r10;

     label3:
        $r3 = staticinvoke <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi highestSupportedApi()>();

        $r4 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_1>;

        if $r3 != $r4 goto label4;

        $r8 = new java.lang.UnsupportedOperationException;

        specialinvoke $r8.<java.lang.UnsupportedOperationException: void <init>(java.lang.String)>("Camera API_2 unavailable on this device");

        throw $r8;

     label4:
        $r5 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent>;

        if $r5 != null goto label5;

        $r7 = new com.android.ex.camera2.portability.AndroidCamera2AgentImpl;

        specialinvoke $r7.<com.android.ex.camera2.portability.AndroidCamera2AgentImpl: void <init>(android.content.Context)>(r0);

        <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent> = $r7;

        <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCamera2AgentClientCount> = 1;

        goto label6;

     label5:
        $i0 = <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCamera2AgentClientCount>;

        $i1 = $i0 + 1;

        <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCamera2AgentClientCount> = $i1;

     label6:
        $r6 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent>;

        return $r6;
    }

    public static synchronized void recycle(com.android.ex.camera2.portability.CameraAgentFactory$CameraApi)
    {
        com.android.ex.camera2.portability.CameraAgentFactory$CameraApi r0, $r1, $r2, $r3, r9;
        int $i0, $i1, $i2, $i3;
        com.android.ex.camera2.portability.CameraAgent $r4, $r5, $r7, $r8;
        java.lang.UnsupportedOperationException $r6;

        r0 := @parameter0: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi;

        r9 = staticinvoke <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi validateApiChoice(com.android.ex.camera2.portability.CameraAgentFactory$CameraApi)>(r0);

        $r1 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_1>;

        if r9 != $r1 goto label1;

        $i2 = <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCameraAgentClientCount>;

        $i3 = $i2 - 1;

        <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCameraAgentClientCount> = $i3;

        if $i3 != 0 goto label3;

        $r7 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent>;

        if $r7 == null goto label3;

        $r8 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent>;

        virtualinvoke $r8.<com.android.ex.camera2.portability.CameraAgent: void recycle()>();

        <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCameraAgent> = null;

        goto label3;

     label1:
        $r2 = staticinvoke <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi highestSupportedApi()>();

        $r3 = <com.android.ex.camera2.portability.CameraAgentFactory$CameraApi: com.android.ex.camera2.portability.CameraAgentFactory$CameraApi API_1>;

        if $r2 != $r3 goto label2;

        $r6 = new java.lang.UnsupportedOperationException;

        specialinvoke $r6.<java.lang.UnsupportedOperationException: void <init>(java.lang.String)>("Camera API_2 unavailable on this device");

        throw $r6;

     label2:
        $i0 = <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCamera2AgentClientCount>;

        $i1 = $i0 - 1;

        <com.android.ex.camera2.portability.CameraAgentFactory: int sAndroidCamera2AgentClientCount> = $i1;

        if $i1 != 0 goto label3;

        $r4 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent>;

        if $r4 == null goto label3;

        $r5 = <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent>;

        virtualinvoke $r5.<com.android.ex.camera2.portability.CameraAgent: void recycle()>();

        <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.CameraAgent sAndroidCamera2Agent> = null;

     label3:
        return;
    }

    static void <clinit>()
    {
        com.android.ex.camera2.portability.debug.Log$Tag $r0;
        java.lang.String $r1;

        <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_API2> = "2";

        <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_API1> = "1";

        <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_DEFAULT> = "0";

        <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_KEY> = "camera2.portability.force_api";

        <com.android.ex.camera2.portability.CameraAgentFactory: int FIRST_SDK_WITH_API_2> = 21;

        $r0 = new com.android.ex.camera2.portability.debug.Log$Tag;

        specialinvoke $r0.<com.android.ex.camera2.portability.debug.Log$Tag: void <init>(java.lang.String)>("CamAgntFact");

        <com.android.ex.camera2.portability.CameraAgentFactory: com.android.ex.camera2.portability.debug.Log$Tag TAG> = $r0;

        $r1 = staticinvoke <com.android.ex.camera2.portability.util.SystemProperties: java.lang.String get(java.lang.String,java.lang.String)>("camera2.portability.force_api", "0");

        <com.android.ex.camera2.portability.CameraAgentFactory: java.lang.String API_LEVEL_OVERRIDE_VALUE> = $r1;

        return;
    }
}
