class com.android.gallery3d.app.Bookmarker extends java.lang.Object
{
    private static final java.lang.String TAG;
    private static final java.lang.String BOOKMARK_CACHE_FILE;
    private static final int BOOKMARK_CACHE_MAX_ENTRIES;
    private static final int BOOKMARK_CACHE_MAX_BYTES;
    private static final int BOOKMARK_CACHE_VERSION;
    private static final int HALF_MINUTE;
    private static final int TWO_MINUTES;
    private final android.content.Context mContext;

    public void <init>(android.content.Context)
    {
        com.android.gallery3d.app.Bookmarker r0;
        android.content.Context r1;

        r0 := @this: com.android.gallery3d.app.Bookmarker;

        r1 := @parameter0: android.content.Context;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        r0.<com.android.gallery3d.app.Bookmarker: android.content.Context mContext> = r1;

        return;
    }

    public void setBookmark(android.net.Uri, int, int)
    {
        com.android.gallery3d.app.Bookmarker r0;
        android.net.Uri r1;
        int i0, i1, $i2;
        com.android.gallery3d.common.BlobCache r2;
        java.io.ByteArrayOutputStream r3, $r6;
        java.io.DataOutputStream r4, $r7;
        android.content.Context $r5;
        java.lang.String $r8;
        long $l3;
        byte[] $r9;
        java.lang.Throwable $r10, r11;

        r0 := @this: com.android.gallery3d.app.Bookmarker;

        r1 := @parameter0: android.net.Uri;

        i0 := @parameter1: int;

        i1 := @parameter2: int;

     label1:
        $r5 = r0.<com.android.gallery3d.app.Bookmarker: android.content.Context mContext>;

        r2 = staticinvoke <com.android.gallery3d.util.CacheManager: com.android.gallery3d.common.BlobCache getCache(android.content.Context,java.lang.String,int,int,int)>($r5, "bookmark", 100, 10240, 1);

        $r6 = new java.io.ByteArrayOutputStream;

        specialinvoke $r6.<java.io.ByteArrayOutputStream: void <init>()>();

        r3 = $r6;

        $r7 = new java.io.DataOutputStream;

        specialinvoke $r7.<java.io.DataOutputStream: void <init>(java.io.OutputStream)>(r3);

        r4 = $r7;

        $r8 = virtualinvoke r1.<android.net.Uri: java.lang.String toString()>();

        virtualinvoke r4.<java.io.DataOutputStream: void writeUTF(java.lang.String)>($r8);

        virtualinvoke r4.<java.io.DataOutputStream: void writeInt(int)>(i0);

        virtualinvoke r4.<java.io.DataOutputStream: void writeInt(int)>(i1);

        virtualinvoke r4.<java.io.DataOutputStream: void flush()>();

        $i2 = virtualinvoke r1.<android.net.Uri: int hashCode()>();

        $l3 = (long) $i2;

        $r9 = virtualinvoke r3.<java.io.ByteArrayOutputStream: byte[] toByteArray()>();

        virtualinvoke r2.<com.android.gallery3d.common.BlobCache: void insert(long,byte[])>($l3, $r9);

     label2:
        goto label4;

     label3:
        $r10 := @caughtexception;

        r11 = $r10;

        staticinvoke <com.android.gallery3d.app.Log: int w(java.lang.String,java.lang.String,java.lang.Throwable)>("Bookmarker", "setBookmark failed", r11);

     label4:
        return;

        catch java.lang.Throwable from label1 to label2 with label3;
    }

    public java.lang.Integer getBookmark(android.net.Uri)
    {
        com.android.gallery3d.app.Bookmarker r0;
        android.net.Uri r1;
        com.android.gallery3d.common.BlobCache r2;
        byte[] r3;
        java.io.DataInputStream r4, $r7;
        java.lang.String r5, $r9;
        int i0, i1, $i2, $i4;
        android.content.Context $r6;
        long $l3;
        java.io.ByteArrayInputStream $r8;
        boolean $z0;
        java.lang.Integer $r10;
        java.lang.Throwable $r11, r12;

        r0 := @this: com.android.gallery3d.app.Bookmarker;

        r1 := @parameter0: android.net.Uri;

     label1:
        $r6 = r0.<com.android.gallery3d.app.Bookmarker: android.content.Context mContext>;

        r2 = staticinvoke <com.android.gallery3d.util.CacheManager: com.android.gallery3d.common.BlobCache getCache(android.content.Context,java.lang.String,int,int,int)>($r6, "bookmark", 100, 10240, 1);

        $i2 = virtualinvoke r1.<android.net.Uri: int hashCode()>();

        $l3 = (long) $i2;

        r3 = virtualinvoke r2.<com.android.gallery3d.common.BlobCache: byte[] lookup(long)>($l3);

        if r3 != null goto label3;

     label2:
        return null;

     label3:
        $r7 = new java.io.DataInputStream;

        $r8 = new java.io.ByteArrayInputStream;

        specialinvoke $r8.<java.io.ByteArrayInputStream: void <init>(byte[])>(r3);

        specialinvoke $r7.<java.io.DataInputStream: void <init>(java.io.InputStream)>($r8);

        r4 = $r7;

        r5 = staticinvoke <java.io.DataInputStream: java.lang.String readUTF(java.io.DataInput)>(r4);

        i0 = virtualinvoke r4.<java.io.DataInputStream: int readInt()>();

        i1 = virtualinvoke r4.<java.io.DataInputStream: int readInt()>();

        $r9 = virtualinvoke r1.<android.net.Uri: java.lang.String toString()>();

        $z0 = virtualinvoke r5.<java.lang.String: boolean equals(java.lang.Object)>($r9);

        if $z0 != 0 goto label5;

     label4:
        return null;

     label5:
        if i0 < 30000 goto label6;

        if i1 < 120000 goto label6;

        $i4 = i1 - 30000;

        if i0 <= $i4 goto label7;

     label6:
        return null;

     label7:
        $r10 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>(i0);

     label8:
        return $r10;

     label9:
        $r11 := @caughtexception;

        r12 = $r11;

        staticinvoke <com.android.gallery3d.app.Log: int w(java.lang.String,java.lang.String,java.lang.Throwable)>("Bookmarker", "getBookmark failed", r12);

        return null;

        catch java.lang.Throwable from label1 to label2 with label9;
        catch java.lang.Throwable from label3 to label4 with label9;
        catch java.lang.Throwable from label5 to label6 with label9;
        catch java.lang.Throwable from label7 to label8 with label9;
    }

    public static void <clinit>()
    {
        <com.android.gallery3d.app.Bookmarker: int TWO_MINUTES> = 120000;

        <com.android.gallery3d.app.Bookmarker: int HALF_MINUTE> = 30000;

        <com.android.gallery3d.app.Bookmarker: int BOOKMARK_CACHE_VERSION> = 1;

        <com.android.gallery3d.app.Bookmarker: int BOOKMARK_CACHE_MAX_BYTES> = 10240;

        <com.android.gallery3d.app.Bookmarker: int BOOKMARK_CACHE_MAX_ENTRIES> = 100;

        <com.android.gallery3d.app.Bookmarker: java.lang.String BOOKMARK_CACHE_FILE> = "bookmark";

        <com.android.gallery3d.app.Bookmarker: java.lang.String TAG> = "Bookmarker";

        return;
    }
}
