public class android.net.ProxyDataTracker extends android.net.BaseNetworkStateTracker
{
    private static final java.lang.String TAG;
    private static final java.lang.String NETWORK_TYPE;
    private static final java.lang.String DNS1;
    private static final java.lang.String DNS2;
    private static final java.lang.String INTERFACE_NAME;
    private static final java.lang.String REASON_ENABLED;
    private static final java.lang.String REASON_DISABLED;
    private static final java.lang.String REASON_PROXY_DOWN;
    private static final int MSG_TEAR_DOWN_REQUEST;
    private static final int MSG_SETUP_REQUEST;
    private static final java.lang.String PERMISSION_PROXY_STATUS_SENDER;
    private static final java.lang.String ACTION_PROXY_STATUS_CHANGE;
    private static final java.lang.String KEY_IS_PROXY_AVAILABLE;
    private static final java.lang.String KEY_REPLY_TO_MESSENGER_BINDER;
    private static final java.lang.String KEY_REPLY_TO_MESSENGER_BINDER_BUNDLE;
    private android.os.Handler mTarget;
    private android.os.Messenger mProxyStatusService;
    private java.util.concurrent.atomic.AtomicBoolean mReconnectRequested;
    private java.util.concurrent.atomic.AtomicBoolean mIsProxyAvailable;
    private final java.util.concurrent.atomic.AtomicInteger mDefaultGatewayAddr;
    private final android.content.BroadcastReceiver mProxyStatusServiceListener;

    public void <init>()
    {
        android.net.ProxyDataTracker r0;
        java.net.UnknownHostException r1, $r14;
        java.util.concurrent.atomic.AtomicBoolean $r2, $r3;
        java.util.concurrent.atomic.AtomicInteger $r4;
        android.net.ProxyDataTracker$1 $r5;
        android.net.NetworkInfo $r6, $r9;
        android.net.LinkProperties $r7, $r10, $r12, $r15;
        android.net.NetworkCapabilities $r8;
        java.net.InetAddress $r11, $r13;

        r0 := @this: android.net.ProxyDataTracker;

        specialinvoke r0.<android.net.BaseNetworkStateTracker: void <init>()>();

        $r2 = new java.util.concurrent.atomic.AtomicBoolean;

        specialinvoke $r2.<java.util.concurrent.atomic.AtomicBoolean: void <init>(boolean)>(0);

        r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mReconnectRequested> = $r2;

        $r3 = new java.util.concurrent.atomic.AtomicBoolean;

        specialinvoke $r3.<java.util.concurrent.atomic.AtomicBoolean: void <init>(boolean)>(0);

        r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mIsProxyAvailable> = $r3;

        $r4 = new java.util.concurrent.atomic.AtomicInteger;

        specialinvoke $r4.<java.util.concurrent.atomic.AtomicInteger: void <init>(int)>(0);

        r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicInteger mDefaultGatewayAddr> = $r4;

        $r5 = new android.net.ProxyDataTracker$1;

        specialinvoke $r5.<android.net.ProxyDataTracker$1: void <init>(android.net.ProxyDataTracker)>(r0);

        r0.<android.net.ProxyDataTracker: android.content.BroadcastReceiver mProxyStatusServiceListener> = $r5;

        $r6 = new android.net.NetworkInfo;

        specialinvoke $r6.<android.net.NetworkInfo: void <init>(int,int,java.lang.String,java.lang.String)>(16, 0, "PROXY", "");

        r0.<android.net.ProxyDataTracker: android.net.NetworkInfo mNetworkInfo> = $r6;

        $r7 = new android.net.LinkProperties;

        specialinvoke $r7.<android.net.LinkProperties: void <init>()>();

        r0.<android.net.ProxyDataTracker: android.net.LinkProperties mLinkProperties> = $r7;

        $r8 = new android.net.NetworkCapabilities;

        specialinvoke $r8.<android.net.NetworkCapabilities: void <init>()>();

        r0.<android.net.ProxyDataTracker: android.net.NetworkCapabilities mNetworkCapabilities> = $r8;

        $r9 = r0.<android.net.ProxyDataTracker: android.net.NetworkInfo mNetworkInfo>;

        virtualinvoke $r9.<android.net.NetworkInfo: void setIsAvailable(boolean)>(1);

     label1:
        $r10 = r0.<android.net.ProxyDataTracker: android.net.LinkProperties mLinkProperties>;

        $r11 = staticinvoke <java.net.InetAddress: java.net.InetAddress getByName(java.lang.String)>("8.8.8.8");

        virtualinvoke $r10.<android.net.LinkProperties: boolean addDnsServer(java.net.InetAddress)>($r11);

        $r12 = r0.<android.net.ProxyDataTracker: android.net.LinkProperties mLinkProperties>;

        $r13 = staticinvoke <java.net.InetAddress: java.net.InetAddress getByName(java.lang.String)>("8.8.4.4");

        virtualinvoke $r12.<android.net.LinkProperties: boolean addDnsServer(java.net.InetAddress)>($r13);

        $r15 = r0.<android.net.ProxyDataTracker: android.net.LinkProperties mLinkProperties>;

        virtualinvoke $r15.<android.net.LinkProperties: void setInterfaceName(java.lang.String)>("ifb0");

     label2:
        goto label4;

     label3:
        $r14 := @caughtexception;

        r1 = $r14;

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String,java.lang.Throwable)>("ProxyDataTracker", "Could not add DNS address", r1);

     label4:
        return;

        catch java.net.UnknownHostException from label1 to label2 with label3;
    }

    public java.lang.Object clone() throws java.lang.CloneNotSupportedException
    {
        android.net.ProxyDataTracker r0;
        java.lang.CloneNotSupportedException $r1;

        r0 := @this: android.net.ProxyDataTracker;

        $r1 = new java.lang.CloneNotSupportedException;

        specialinvoke $r1.<java.lang.CloneNotSupportedException: void <init>()>();

        throw $r1;
    }

    public void startMonitoring(android.content.Context, android.os.Handler)
    {
        android.net.ProxyDataTracker r0;
        android.content.Context r1, $r4;
        android.os.Handler r2;
        android.content.IntentFilter $r3;
        android.content.BroadcastReceiver $r5;

        r0 := @this: android.net.ProxyDataTracker;

        r1 := @parameter0: android.content.Context;

        r2 := @parameter1: android.os.Handler;

        r0.<android.net.ProxyDataTracker: android.content.Context mContext> = r1;

        r0.<android.net.ProxyDataTracker: android.os.Handler mTarget> = r2;

        $r4 = r0.<android.net.ProxyDataTracker: android.content.Context mContext>;

        $r5 = r0.<android.net.ProxyDataTracker: android.content.BroadcastReceiver mProxyStatusServiceListener>;

        $r3 = new android.content.IntentFilter;

        specialinvoke $r3.<android.content.IntentFilter: void <init>(java.lang.String)>("com.android.net.PROXY_STATUS_CHANGE");

        virtualinvoke $r4.<android.content.Context: android.content.Intent registerReceiver(android.content.BroadcastReceiver,android.content.IntentFilter,java.lang.String,android.os.Handler)>($r5, $r3, "android.permission.ACCESS_NETWORK_CONDITIONS", null);

        return;
    }

    public boolean teardown()
    {
        android.net.ProxyDataTracker r0;
        android.os.RemoteException r1, $r8;
        java.util.concurrent.atomic.AtomicBoolean $r2, $r3;
        boolean $z0;
        android.net.NetworkInfo$DetailedState $r4;
        android.os.Messenger $r5, $r6;
        android.os.Message $r7;

        r0 := @this: android.net.ProxyDataTracker;

        virtualinvoke r0.<android.net.ProxyDataTracker: void setTeardownRequested(boolean)>(1);

        $r2 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mReconnectRequested>;

        virtualinvoke $r2.<java.util.concurrent.atomic.AtomicBoolean: void set(boolean)>(0);

     label1:
        $r3 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mIsProxyAvailable>;

        $z0 = virtualinvoke $r3.<java.util.concurrent.atomic.AtomicBoolean: boolean get()>();

        if $z0 == 0 goto label2;

        $r5 = r0.<android.net.ProxyDataTracker: android.os.Messenger mProxyStatusService>;

        if $r5 == null goto label2;

        $r6 = r0.<android.net.ProxyDataTracker: android.os.Messenger mProxyStatusService>;

        $r7 = staticinvoke <android.os.Message: android.os.Message obtain(android.os.Handler,int)>(null, 1);

        virtualinvoke $r6.<android.os.Messenger: void send(android.os.Message)>($r7);

     label2:
        goto label4;

     label3:
        $r8 := @caughtexception;

        r1 = $r8;

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String,java.lang.Throwable)>("ProxyDataTracker", "Unable to connect to proxy status service", r1);

        return 0;

     label4:
        $r4 = <android.net.NetworkInfo$DetailedState: android.net.NetworkInfo$DetailedState DISCONNECTED>;

        specialinvoke r0.<android.net.ProxyDataTracker: void setDetailedState(android.net.NetworkInfo$DetailedState,java.lang.String,java.lang.String)>($r4, "disabled", null);

        return 1;

        catch android.os.RemoteException from label1 to label2 with label3;
    }

    public boolean reconnect()
    {
        android.net.ProxyDataTracker r0;
        android.os.RemoteException r1, $r8;
        java.util.concurrent.atomic.AtomicBoolean $r2, $r3;
        boolean $z0;
        android.net.NetworkInfo$DetailedState $r4, $r7, $r9;
        android.os.Messenger $r5;
        android.os.Message $r6;

        r0 := @this: android.net.ProxyDataTracker;

        $r2 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mReconnectRequested>;

        virtualinvoke $r2.<java.util.concurrent.atomic.AtomicBoolean: void set(boolean)>(1);

        virtualinvoke r0.<android.net.ProxyDataTracker: void setTeardownRequested(boolean)>(0);

        $r3 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mIsProxyAvailable>;

        $z0 = virtualinvoke $r3.<java.util.concurrent.atomic.AtomicBoolean: boolean get()>();

        if $z0 != 0 goto label1;

        staticinvoke <android.util.Log: int w(java.lang.String,java.lang.String)>("ProxyDataTracker", "Reconnect requested even though proxy service is not up. Bailing.");

        return 0;

     label1:
        $r4 = <android.net.NetworkInfo$DetailedState: android.net.NetworkInfo$DetailedState CONNECTING>;

        specialinvoke r0.<android.net.ProxyDataTracker: void setDetailedState(android.net.NetworkInfo$DetailedState,java.lang.String,java.lang.String)>($r4, "enabled", null);

     label2:
        $r5 = r0.<android.net.ProxyDataTracker: android.os.Messenger mProxyStatusService>;

        $r6 = staticinvoke <android.os.Message: android.os.Message obtain(android.os.Handler,int)>(null, 2);

        virtualinvoke $r5.<android.os.Messenger: void send(android.os.Message)>($r6);

     label3:
        goto label5;

     label4:
        $r8 := @caughtexception;

        r1 = $r8;

        staticinvoke <android.util.Log: int e(java.lang.String,java.lang.String,java.lang.Throwable)>("ProxyDataTracker", "Unable to connect to proxy status service", r1);

        $r9 = <android.net.NetworkInfo$DetailedState: android.net.NetworkInfo$DetailedState DISCONNECTED>;

        specialinvoke r0.<android.net.ProxyDataTracker: void setDetailedState(android.net.NetworkInfo$DetailedState,java.lang.String,java.lang.String)>($r9, "proxy_down", null);

        return 0;

     label5:
        $r7 = <android.net.NetworkInfo$DetailedState: android.net.NetworkInfo$DetailedState CONNECTED>;

        specialinvoke r0.<android.net.ProxyDataTracker: void setDetailedState(android.net.NetworkInfo$DetailedState,java.lang.String,java.lang.String)>($r7, "enabled", null);

        return 1;

        catch android.os.RemoteException from label2 to label3 with label4;
    }

    public int getDefaultGatewayAddr()
    {
        android.net.ProxyDataTracker r0;
        java.util.concurrent.atomic.AtomicInteger $r1;
        int $i0;

        r0 := @this: android.net.ProxyDataTracker;

        $r1 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicInteger mDefaultGatewayAddr>;

        $i0 = virtualinvoke $r1.<java.util.concurrent.atomic.AtomicInteger: int get()>();

        return $i0;
    }

    public java.lang.String getTcpBufferSizesPropName()
    {
        android.net.ProxyDataTracker r0;

        r0 := @this: android.net.ProxyDataTracker;

        return "net.tcp.buffersize.wifi";
    }

    private void setDetailedState(android.net.NetworkInfo$DetailedState, java.lang.String, java.lang.String)
    {
        android.net.ProxyDataTracker r0;
        android.net.NetworkInfo$DetailedState r1;
        java.lang.String r2, r3;
        android.os.Message r4;
        android.net.NetworkInfo $r5, $r6;
        android.os.Handler $r7;

        r0 := @this: android.net.ProxyDataTracker;

        r1 := @parameter0: android.net.NetworkInfo$DetailedState;

        r2 := @parameter1: java.lang.String;

        r3 := @parameter2: java.lang.String;

        $r5 = r0.<android.net.ProxyDataTracker: android.net.NetworkInfo mNetworkInfo>;

        virtualinvoke $r5.<android.net.NetworkInfo: void setDetailedState(android.net.NetworkInfo$DetailedState,java.lang.String,java.lang.String)>(r1, r2, r3);

        $r7 = r0.<android.net.ProxyDataTracker: android.os.Handler mTarget>;

        $r6 = r0.<android.net.ProxyDataTracker: android.net.NetworkInfo mNetworkInfo>;

        r4 = virtualinvoke $r7.<android.os.Handler: android.os.Message obtainMessage(int,java.lang.Object)>(458752, $r6);

        virtualinvoke r4.<android.os.Message: void sendToTarget()>();

        return;
    }

    static java.util.concurrent.atomic.AtomicBoolean access$000(android.net.ProxyDataTracker)
    {
        android.net.ProxyDataTracker r0;
        java.util.concurrent.atomic.AtomicBoolean $r1;

        r0 := @parameter0: android.net.ProxyDataTracker;

        $r1 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mIsProxyAvailable>;

        return $r1;
    }

    static android.os.Messenger access$102(android.net.ProxyDataTracker, android.os.Messenger)
    {
        android.net.ProxyDataTracker r0;
        android.os.Messenger r1;

        r0 := @parameter0: android.net.ProxyDataTracker;

        r1 := @parameter1: android.os.Messenger;

        r0.<android.net.ProxyDataTracker: android.os.Messenger mProxyStatusService> = r1;

        return r1;
    }

    static java.util.concurrent.atomic.AtomicBoolean access$200(android.net.ProxyDataTracker)
    {
        android.net.ProxyDataTracker r0;
        java.util.concurrent.atomic.AtomicBoolean $r1;

        r0 := @parameter0: android.net.ProxyDataTracker;

        $r1 = r0.<android.net.ProxyDataTracker: java.util.concurrent.atomic.AtomicBoolean mReconnectRequested>;

        return $r1;
    }

    static void access$300(android.net.ProxyDataTracker, android.net.NetworkInfo$DetailedState, java.lang.String, java.lang.String)
    {
        android.net.ProxyDataTracker r0;
        android.net.NetworkInfo$DetailedState r1;
        java.lang.String r2, r3;

        r0 := @parameter0: android.net.ProxyDataTracker;

        r1 := @parameter1: android.net.NetworkInfo$DetailedState;

        r2 := @parameter2: java.lang.String;

        r3 := @parameter3: java.lang.String;

        specialinvoke r0.<android.net.ProxyDataTracker: void setDetailedState(android.net.NetworkInfo$DetailedState,java.lang.String,java.lang.String)>(r1, r2, r3);

        return;
    }

    public static void <clinit>()
    {
        <android.net.ProxyDataTracker: java.lang.String KEY_REPLY_TO_MESSENGER_BINDER_BUNDLE> = "reply_to_messenger_binder_bundle";

        <android.net.ProxyDataTracker: java.lang.String KEY_REPLY_TO_MESSENGER_BINDER> = "reply_to_messenger_binder";

        <android.net.ProxyDataTracker: java.lang.String KEY_IS_PROXY_AVAILABLE> = "is_proxy_available";

        <android.net.ProxyDataTracker: java.lang.String ACTION_PROXY_STATUS_CHANGE> = "com.android.net.PROXY_STATUS_CHANGE";

        <android.net.ProxyDataTracker: java.lang.String PERMISSION_PROXY_STATUS_SENDER> = "android.permission.ACCESS_NETWORK_CONDITIONS";

        <android.net.ProxyDataTracker: int MSG_SETUP_REQUEST> = 2;

        <android.net.ProxyDataTracker: int MSG_TEAR_DOWN_REQUEST> = 1;

        <android.net.ProxyDataTracker: java.lang.String REASON_PROXY_DOWN> = "proxy_down";

        <android.net.ProxyDataTracker: java.lang.String REASON_DISABLED> = "disabled";

        <android.net.ProxyDataTracker: java.lang.String REASON_ENABLED> = "enabled";

        <android.net.ProxyDataTracker: java.lang.String INTERFACE_NAME> = "ifb0";

        <android.net.ProxyDataTracker: java.lang.String DNS2> = "8.8.4.4";

        <android.net.ProxyDataTracker: java.lang.String DNS1> = "8.8.8.8";

        <android.net.ProxyDataTracker: java.lang.String NETWORK_TYPE> = "PROXY";

        <android.net.ProxyDataTracker: java.lang.String TAG> = "ProxyDataTracker";

        return;
    }
}
