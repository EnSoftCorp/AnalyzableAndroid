public class com.android.server.voiceinteraction.DatabaseHelper extends android.database.sqlite.SQLiteOpenHelper
{
    static final java.lang.String TAG;
    static final boolean DBG;
    private static final java.lang.String NAME;
    private static final int VERSION;
    private static final java.lang.String CREATE_TABLE_SOUND_MODEL;

    public void <init>(android.content.Context)
    {
        com.android.server.voiceinteraction.DatabaseHelper r0;
        android.content.Context r1;

        r0 := @this: com.android.server.voiceinteraction.DatabaseHelper;

        r1 := @parameter0: android.content.Context;

        specialinvoke r0.<android.database.sqlite.SQLiteOpenHelper: void <init>(android.content.Context,java.lang.String,android.database.sqlite.SQLiteDatabase$CursorFactory,int)>(r1, "sound_model.db", null, 4);

        return;
    }

    public void onCreate(android.database.sqlite.SQLiteDatabase)
    {
        com.android.server.voiceinteraction.DatabaseHelper r0;
        android.database.sqlite.SQLiteDatabase r1;

        r0 := @this: com.android.server.voiceinteraction.DatabaseHelper;

        r1 := @parameter0: android.database.sqlite.SQLiteDatabase;

        virtualinvoke r1.<android.database.sqlite.SQLiteDatabase: void execSQL(java.lang.String)>("CREATE TABLE sound_model(model_uuid TEXT PRIMARY KEY,keyphrase_id INTEGER,type INTEGER,data BLOB,recognition_modes INTEGER,locale TEXT,hint_text TEXT,users TEXT)");

        return;
    }

    public void onUpgrade(android.database.sqlite.SQLiteDatabase, int, int)
    {
        com.android.server.voiceinteraction.DatabaseHelper r0;
        android.database.sqlite.SQLiteDatabase r1;
        int i0, i1;

        r0 := @this: com.android.server.voiceinteraction.DatabaseHelper;

        r1 := @parameter0: android.database.sqlite.SQLiteDatabase;

        i0 := @parameter1: int;

        i1 := @parameter2: int;

        virtualinvoke r1.<android.database.sqlite.SQLiteDatabase: void execSQL(java.lang.String)>("DROP TABLE IF EXISTS sound_model");

        virtualinvoke r0.<com.android.server.voiceinteraction.DatabaseHelper: void onCreate(android.database.sqlite.SQLiteDatabase)>(r1);

        return;
    }

    public boolean updateKeyphraseSoundModel(android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel)
    {
        com.android.server.voiceinteraction.DatabaseHelper r0, r2;
        android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel r1;
        android.database.sqlite.SQLiteDatabase r3;
        android.content.ContentValues r4, $r8;
        boolean z0, $z1;
        java.lang.Throwable r5, r6, $r31, $r32;
        java.util.UUID $r9;
        java.lang.String $r10, $r22, $r25, $r30;
        java.lang.Integer $r11, $r17, $r21;
        android.hardware.soundtrigger.SoundTrigger$Keyphrase[] $r12, $r14, $r15, $r19, $r20, $r26, $r27;
        byte[] $r13;
        int $i0, $i1, $i2;
        android.hardware.soundtrigger.SoundTrigger$Keyphrase $r16, $r18, $r23, $r28, $r29;
        int[] $r24;
        long $l3;
        byte $b4;

        r0 := @this: com.android.server.voiceinteraction.DatabaseHelper;

        r1 := @parameter0: android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel;

        r2 = r0;

        entermonitor r0;

     label01:
        r3 = virtualinvoke r0.<com.android.server.voiceinteraction.DatabaseHelper: android.database.sqlite.SQLiteDatabase getWritableDatabase()>();

        $r8 = new android.content.ContentValues;

        specialinvoke $r8.<android.content.ContentValues: void <init>()>();

        r4 = $r8;

        $r9 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: java.util.UUID uuid>;

        $r10 = virtualinvoke $r9.<java.util.UUID: java.lang.String toString()>();

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.String)>("model_uuid", $r10);

        $r11 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>(0);

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.Integer)>("type", $r11);

        $r13 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: byte[] data>;

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,byte[])>("data", $r13);

        $r12 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        if $r12 == null goto label09;

        $r14 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        $i0 = lengthof $r14;

        if $i0 != 1 goto label09;

        $r15 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        $r16 = $r15[0];

        $i1 = $r16.<android.hardware.soundtrigger.SoundTrigger$Keyphrase: int id>;

        $r17 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>($i1);

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.Integer)>("keyphrase_id", $r17);

        $r19 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        $r18 = $r19[0];

        $i2 = $r18.<android.hardware.soundtrigger.SoundTrigger$Keyphrase: int recognitionModes>;

        $r21 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(int)>($i2);

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.Integer)>("recognition_modes", $r21);

        $r20 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        $r23 = $r20[0];

        $r24 = $r23.<android.hardware.soundtrigger.SoundTrigger$Keyphrase: int[] users>;

        $r22 = staticinvoke <com.android.server.voiceinteraction.DatabaseHelper: java.lang.String getCommaSeparatedString(int[])>($r24);

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.String)>("users", $r22);

        $r27 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        $r28 = $r27[0];

        $r25 = $r28.<android.hardware.soundtrigger.SoundTrigger$Keyphrase: java.lang.String locale>;

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.String)>("locale", $r25);

        $r26 = r1.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: android.hardware.soundtrigger.SoundTrigger$Keyphrase[] keyphrases>;

        $r29 = $r26[0];

        $r30 = $r29.<android.hardware.soundtrigger.SoundTrigger$Keyphrase: java.lang.String text>;

        virtualinvoke r4.<android.content.ContentValues: void put(java.lang.String,java.lang.String)>("hint_text", $r30);

     label02:
        $l3 = virtualinvoke r3.<android.database.sqlite.SQLiteDatabase: long insertWithOnConflict(java.lang.String,java.lang.String,android.content.ContentValues,int)>("sound_model", null, r4, 5);

        $b4 = $l3 cmp -1L;

        if $b4 == 0 goto label03;

        $z1 = 1;

        goto label04;

     label03:
        $z1 = 0;

     label04:
        z0 = $z1;

     label05:
        virtualinvoke r3.<android.database.sqlite.SQLiteDatabase: void close()>();

        exitmonitor r2;

     label06:
        return z0;

     label07:
        $r32 := @caughtexception;

        r5 = $r32;

     label08:
        virtualinvoke r3.<android.database.sqlite.SQLiteDatabase: void close()>();

        throw r5;

     label09:
        exitmonitor r2;

     label10:
        return 0;

     label11:
        $r31 := @caughtexception;

        r6 = $r31;

        exitmonitor r2;

     label12:
        throw r6;

        catch java.lang.Throwable from label02 to label05 with label07;
        catch java.lang.Throwable from label07 to label08 with label07;
        catch java.lang.Throwable from label01 to label06 with label11;
        catch java.lang.Throwable from label07 to label10 with label11;
        catch java.lang.Throwable from label11 to label12 with label11;
    }

    public boolean deleteKeyphraseSoundModel(int, int, java.lang.String)
    {
        com.android.server.voiceinteraction.DatabaseHelper r0, r2;
        int i0, i1, $i2;
        java.lang.String r1, r5, $r12, r18;
        android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel r3;
        android.database.sqlite.SQLiteDatabase r4;
        boolean z0, $z1;
        java.lang.Throwable r6, r7, $r16, $r17;
        java.util.Locale $r8;
        java.lang.StringBuilder $r10, $r11, $r14, $r15;
        java.util.UUID $r13;

        r0 := @this: com.android.server.voiceinteraction.DatabaseHelper;

        i0 := @parameter0: int;

        i1 := @parameter1: int;

        r1 := @parameter2: java.lang.String;

        $r8 = staticinvoke <java.util.Locale: java.util.Locale forLanguageTag(java.lang.String)>(r1);

        r18 = virtualinvoke $r8.<java.util.Locale: java.lang.String toLanguageTag()>();

        r2 = r0;

        entermonitor r0;

     label01:
        r3 = virtualinvoke r0.<com.android.server.voiceinteraction.DatabaseHelper: android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel getKeyphraseSoundModel(int,int,java.lang.String)>(i0, i1, r18);

        if r3 != null goto label03;

        exitmonitor r2;

     label02:
        return 0;

     label03:
        r4 = virtualinvoke r0.<com.android.server.voiceinteraction.DatabaseHelper: android.database.sqlite.SQLiteDatabase getWritableDatabase()>();

        $r11 = new java.lang.StringBuilder;

        specialinvoke $r11.<java.lang.StringBuilder: void <init>()>();

        $r10 = virtualinvoke $r11.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("model_uuid=\'");

        $r13 = r3.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: java.util.UUID uuid>;

        $r12 = virtualinvoke $r13.<java.util.UUID: java.lang.String toString()>();

        $r15 = virtualinvoke $r10.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r12);

        $r14 = virtualinvoke $r15.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\'");

        r5 = virtualinvoke $r14.<java.lang.StringBuilder: java.lang.String toString()>();

     label04:
        $i2 = virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: int delete(java.lang.String,java.lang.String,java.lang.String[])>("sound_model", r5, null);

        if $i2 == 0 goto label05;

        $z1 = 1;

        goto label06;

     label05:
        $z1 = 0;

     label06:
        z0 = $z1;

     label07:
        virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: void close()>();

        exitmonitor r2;

     label08:
        return z0;

     label09:
        $r17 := @caughtexception;

        r6 = $r17;

     label10:
        virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: void close()>();

        throw r6;

     label11:
        $r16 := @caughtexception;

        r7 = $r16;

        exitmonitor r2;

     label12:
        throw r7;

        catch java.lang.Throwable from label04 to label07 with label09;
        catch java.lang.Throwable from label09 to label10 with label09;
        catch java.lang.Throwable from label01 to label02 with label11;
        catch java.lang.Throwable from label03 to label08 with label11;
        catch java.lang.Throwable from label09 to label12 with label11;
    }

    public android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel getKeyphraseSoundModel(int, int, java.lang.String)
    {
        com.android.server.voiceinteraction.DatabaseHelper r0, r2;
        int i0, i1, i2, i3, i4, i5, i6, $i7, $i9, $i10, $i11, $i12, $i13, $i14;
        java.lang.String r1, r3, r6, r9, r10, $r24, r30;
        android.database.sqlite.SQLiteDatabase r4;
        android.database.Cursor r5;
        byte[] r7;
        int[] r8, r11;
        boolean z0, $z1, $z2;
        java.lang.Throwable r12, r13, $r28, $r29;
        java.util.Locale $r14;
        java.lang.StringBuilder $r15, $r17, $r18, $r19, $r20, $r21, $r22, $r23;
        android.hardware.soundtrigger.SoundTrigger$Keyphrase $r25;
        java.util.UUID $r26;
        android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel $r27, r32, r33;
        android.hardware.soundtrigger.SoundTrigger$Keyphrase[] r31;

        r0 := @this: com.android.server.voiceinteraction.DatabaseHelper;

        i0 := @parameter0: int;

        i1 := @parameter1: int;

        r1 := @parameter2: java.lang.String;

        $r14 = staticinvoke <java.util.Locale: java.util.Locale forLanguageTag(java.lang.String)>(r1);

        r30 = virtualinvoke $r14.<java.util.Locale: java.lang.String toLanguageTag()>();

        r2 = r0;

        entermonitor r0;

     label01:
        $r15 = new java.lang.StringBuilder;

        specialinvoke $r15.<java.lang.StringBuilder: void <init>()>();

        $r18 = virtualinvoke $r15.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("SELECT  * FROM sound_model WHERE keyphrase_id= \'");

        $r17 = virtualinvoke $r18.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>(i0);

        $r20 = virtualinvoke $r17.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\' AND ");

        $r19 = virtualinvoke $r20.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("locale");

        $r22 = virtualinvoke $r19.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("=\'");

        $r21 = virtualinvoke $r22.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(r30);

        $r23 = virtualinvoke $r21.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("\'");

        r3 = virtualinvoke $r23.<java.lang.StringBuilder: java.lang.String toString()>();

        r4 = virtualinvoke r0.<com.android.server.voiceinteraction.DatabaseHelper: android.database.sqlite.SQLiteDatabase getReadableDatabase()>();

        r5 = virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: android.database.Cursor rawQuery(java.lang.String,java.lang.String[])>(r3, null);

     label02:
        $z1 = interfaceinvoke r5.<android.database.Cursor: boolean moveToFirst()>();

        if $z1 == 0 goto label14;

     label03:
        $i7 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("type");

        i2 = interfaceinvoke r5.<android.database.Cursor: int getInt(int)>($i7);

        if i2 == 0 goto label04;

        goto label13;

     label04:
        $i10 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("model_uuid");

        r6 = interfaceinvoke r5.<android.database.Cursor: java.lang.String getString(int)>($i10);

        if r6 != null goto label05;

        staticinvoke <android.util.Slog: int w(java.lang.String,java.lang.String)>("SoundModelDBHelper", "Ignoring SoundModel since it doesn\'t specify an ID");

        goto label13;

     label05:
        $i9 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("data");

        r7 = interfaceinvoke r5.<android.database.Cursor: byte[] getBlob(int)>($i9);

        $i12 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("recognition_modes");

        i3 = interfaceinvoke r5.<android.database.Cursor: int getInt(int)>($i12);

        $i11 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("users");

        $r24 = interfaceinvoke r5.<android.database.Cursor: java.lang.String getString(int)>($i11);

        r8 = staticinvoke <com.android.server.voiceinteraction.DatabaseHelper: int[] getArrayForCommaSeparatedString(java.lang.String)>($r24);

        $i13 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("locale");

        r9 = interfaceinvoke r5.<android.database.Cursor: java.lang.String getString(int)>($i13);

        $i14 = interfaceinvoke r5.<android.database.Cursor: int getColumnIndex(java.lang.String)>("hint_text");

        r10 = interfaceinvoke r5.<android.database.Cursor: java.lang.String getString(int)>($i14);

        if r8 != null goto label06;

        staticinvoke <android.util.Slog: int w(java.lang.String,java.lang.String)>("SoundModelDBHelper", "Ignoring SoundModel since it doesn\'t specify users");

        goto label13;

     label06:
        z0 = 0;

        r11 = r8;

        i4 = lengthof r11;

        i6 = 0;

     label07:
        if i6 >= i4 goto label09;

        i5 = r11[i6];

        if i1 != i5 goto label08;

        z0 = 1;

        goto label09;

     label08:
        i6 = i6 + 1;

        goto label07;

     label09:
        if z0 != 0 goto label10;

        goto label13;

     label10:
        r31 = newarray (android.hardware.soundtrigger.SoundTrigger$Keyphrase)[1];

        $r25 = new android.hardware.soundtrigger.SoundTrigger$Keyphrase;

        specialinvoke $r25.<android.hardware.soundtrigger.SoundTrigger$Keyphrase: void <init>(int,int,java.lang.String,java.lang.String,int[])>(i0, i3, r9, r10, r8);

        r31[0] = $r25;

        $r27 = new android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel;

        $r26 = staticinvoke <java.util.UUID: java.util.UUID fromString(java.lang.String)>(r6);

        specialinvoke $r27.<android.hardware.soundtrigger.SoundTrigger$KeyphraseSoundModel: void <init>(java.util.UUID,java.util.UUID,byte[],android.hardware.soundtrigger.SoundTrigger$Keyphrase[])>($r26, null, r7, r31);

        r32 = $r27;

        r33 = r32;

     label11:
        interfaceinvoke r5.<android.database.Cursor: void close()>();

        virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: void close()>();

        exitmonitor r2;

     label12:
        return r33;

     label13:
        $z2 = interfaceinvoke r5.<android.database.Cursor: boolean moveToNext()>();

        if $z2 != 0 goto label03;

     label14:
        staticinvoke <android.util.Slog: int w(java.lang.String,java.lang.String)>("SoundModelDBHelper", "No SoundModel available for the given keyphrase");

     label15:
        interfaceinvoke r5.<android.database.Cursor: void close()>();

        virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: void close()>();

        goto label18;

     label16:
        $r29 := @caughtexception;

        r13 = $r29;

     label17:
        interfaceinvoke r5.<android.database.Cursor: void close()>();

        virtualinvoke r4.<android.database.sqlite.SQLiteDatabase: void close()>();

        throw r13;

     label18:
        exitmonitor r2;

     label19:
        return null;

     label20:
        $r28 := @caughtexception;

        r12 = $r28;

        exitmonitor r2;

     label21:
        throw r12;

        catch java.lang.Throwable from label02 to label11 with label16;
        catch java.lang.Throwable from label13 to label15 with label16;
        catch java.lang.Throwable from label16 to label17 with label16;
        catch java.lang.Throwable from label01 to label12 with label20;
        catch java.lang.Throwable from label13 to label19 with label20;
        catch java.lang.Throwable from label20 to label21 with label20;
    }

    private static java.lang.String getCommaSeparatedString(int[])
    {
        int[] r0;
        java.lang.StringBuilder r1, $r2;
        int i0, $i1, $i2;
        java.lang.String $r3;

        r0 := @parameter0: int[];

        if r0 != null goto label1;

        return "";

     label1:
        $r2 = new java.lang.StringBuilder;

        specialinvoke $r2.<java.lang.StringBuilder: void <init>()>();

        r1 = $r2;

        i0 = 0;

     label2:
        $i1 = lengthof r0;

        if i0 >= $i1 goto label4;

        if i0 == 0 goto label3;

        virtualinvoke r1.<java.lang.StringBuilder: java.lang.StringBuilder append(char)>(44);

     label3:
        $i2 = r0[i0];

        virtualinvoke r1.<java.lang.StringBuilder: java.lang.StringBuilder append(int)>($i2);

        i0 = i0 + 1;

        goto label2;

     label4:
        $r3 = virtualinvoke r1.<java.lang.StringBuilder: java.lang.String toString()>();

        return $r3;
    }

    private static int[] getArrayForCommaSeparatedString(java.lang.String)
    {
        java.lang.String r0, $r3;
        java.lang.String[] r1;
        int[] r2;
        int i0, $i1, $i2, $i3;
        boolean $z0;
        java.lang.Integer $r4;

        r0 := @parameter0: java.lang.String;

        $z0 = staticinvoke <android.text.TextUtils: boolean isEmpty(java.lang.CharSequence)>(r0);

        if $z0 == 0 goto label1;

        return null;

     label1:
        r1 = virtualinvoke r0.<java.lang.String: java.lang.String[] split(java.lang.String)>(",");

        $i1 = lengthof r1;

        r2 = newarray (int)[$i1];

        i0 = 0;

     label2:
        $i2 = lengthof r1;

        if i0 >= $i2 goto label3;

        $r3 = r1[i0];

        $r4 = staticinvoke <java.lang.Integer: java.lang.Integer valueOf(java.lang.String)>($r3);

        $i3 = virtualinvoke $r4.<java.lang.Integer: int intValue()>();

        r2[i0] = $i3;

        i0 = i0 + 1;

        goto label2;

     label3:
        return r2;
    }

    public static void <clinit>()
    {
        <com.android.server.voiceinteraction.DatabaseHelper: java.lang.String CREATE_TABLE_SOUND_MODEL> = "CREATE TABLE sound_model(model_uuid TEXT PRIMARY KEY,keyphrase_id INTEGER,type INTEGER,data BLOB,recognition_modes INTEGER,locale TEXT,hint_text TEXT,users TEXT)";

        <com.android.server.voiceinteraction.DatabaseHelper: int VERSION> = 4;

        <com.android.server.voiceinteraction.DatabaseHelper: java.lang.String NAME> = "sound_model.db";

        <com.android.server.voiceinteraction.DatabaseHelper: boolean DBG> = 0;

        <com.android.server.voiceinteraction.DatabaseHelper: java.lang.String TAG> = "SoundModelDBHelper";

        return;
    }
}
