public class android.mtp.MtpServer extends java.lang.Object implements java.lang.Runnable
{
    private int mNativeContext;

    static void <clinit>()
    {
        staticinvoke <java.lang.System: void loadLibrary(java.lang.String)>("media_jni");

        return;
    }

    public void <init>(android.mtp.MtpDatabase, boolean)
    {
        android.mtp.MtpServer r0;
        android.mtp.MtpDatabase r1;
        boolean z0;

        r0 := @this: android.mtp.MtpServer;

        r1 := @parameter0: android.mtp.MtpDatabase;

        z0 := @parameter1: boolean;

        specialinvoke r0.<java.lang.Object: void <init>()>();

        specialinvoke r0.<android.mtp.MtpServer: void native_setup(android.mtp.MtpDatabase,boolean)>(r1, z0);

        return;
    }

    private final native void native_add_storage(android.mtp.MtpStorage);

    private final native void native_cleanup();

    private final native void native_remove_storage(int);

    private final native void native_run();

    private final native void native_send_object_added(int);

    private final native void native_send_object_removed(int);

    private final native void native_setup(android.mtp.MtpDatabase, boolean);

    public void addStorage(android.mtp.MtpStorage)
    {
        android.mtp.MtpServer r0;
        android.mtp.MtpStorage r1;

        r0 := @this: android.mtp.MtpServer;

        r1 := @parameter0: android.mtp.MtpStorage;

        specialinvoke r0.<android.mtp.MtpServer: void native_add_storage(android.mtp.MtpStorage)>(r1);

        return;
    }

    public void removeStorage(android.mtp.MtpStorage)
    {
        android.mtp.MtpServer r0;
        android.mtp.MtpStorage r1;
        int $i0;

        r0 := @this: android.mtp.MtpServer;

        r1 := @parameter0: android.mtp.MtpStorage;

        $i0 = virtualinvoke r1.<android.mtp.MtpStorage: int getStorageId()>();

        specialinvoke r0.<android.mtp.MtpServer: void native_remove_storage(int)>($i0);

        return;
    }

    public void run()
    {
        android.mtp.MtpServer r0;

        r0 := @this: android.mtp.MtpServer;

        specialinvoke r0.<android.mtp.MtpServer: void native_run()>();

        specialinvoke r0.<android.mtp.MtpServer: void native_cleanup()>();

        return;
    }

    public void sendObjectAdded(int)
    {
        android.mtp.MtpServer r0;
        int i0;

        r0 := @this: android.mtp.MtpServer;

        i0 := @parameter0: int;

        specialinvoke r0.<android.mtp.MtpServer: void native_send_object_added(int)>(i0);

        return;
    }

    public void sendObjectRemoved(int)
    {
        android.mtp.MtpServer r0;
        int i0;

        r0 := @this: android.mtp.MtpServer;

        i0 := @parameter0: int;

        specialinvoke r0.<android.mtp.MtpServer: void native_send_object_removed(int)>(i0);

        return;
    }

    public void start()
    {
        android.mtp.MtpServer r0;
        java.lang.Thread $r1;

        r0 := @this: android.mtp.MtpServer;

        $r1 = new java.lang.Thread;

        specialinvoke $r1.<java.lang.Thread: void <init>(java.lang.Runnable,java.lang.String)>(r0, "MtpServer");

        virtualinvoke $r1.<java.lang.Thread: void start()>();

        return;
    }
}
